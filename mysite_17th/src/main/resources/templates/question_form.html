<html layout:decorate="~{layout}">
	<div layout:fragment="content" class="container">
		<h5 class="my-5 border-bottom pb-2 display-4">질문등록</h5>
		<form  method="post" th:object="${questionForm}">
		<!-- <form th:action="@{/question/create}" method="post" th:object="${questionForm}"> -->
		
		<!-- 오류를 표시하려면 타임리프의 th:object 속성이 꼭 필요하다. 
		역할은 form태그의 입력 항목들이 QuestionForm클래스와 연결된다고 타임리프에 알려주는 역할을 한다
		그런데, th:object 속성을 추가하면 @GetMapping한 메서드도 변경해야 오류가 발생하지 않는다. -->
	
	
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
	<!-- th:action="@{/question/create}"을 삭헤자면 CSRF값이 자동으로 생성이 안돼서 수동으로라도 설정하기 위해 hidden으로 만들어 가져감
		그리고 th:action이 없더라도 post로 폼 전송시에 action속성이 자동 설정된다. -->
	
	<!-- 에러가 있을 때 -->
	<!-- <div th:if="${#fields.hasAnyErrors()}" >
		<div class="alert alert-danger" th:each="err : ${#fields.allErrors()}" th:text="${err}"></div>
	</div> -->
	<div th:replace="~{form_errors :: formErrorsFragment}"></div>
	
  <div class="form-group">
    <label for="exampleFormControlInput1" class="text-warning">질문 제목</label>
    <input name="subject" type="text" class="form-control" id="exampleFormControlInput1" placeholder="이것이 궁금합니다.">
  </div>
  <div class="form-group">
    <label for="exampleFormControlTextarea1" class="text-warning">질문 내용</label>
    <textarea name="content" class="form-control" id="exampleFormControlTextarea1" rows="20"></textarea>
  </div>
  <input type="submit" class="btn btn-warning text-white" value="글 등록"/>
</form>
	
	</div>
</html>

