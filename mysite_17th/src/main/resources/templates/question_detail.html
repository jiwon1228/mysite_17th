<html layout:decorate="~{layout}">
<div layout:fragment="content">
	<div class="container">
		<div class="jumbotron">
			<div class="display-4">
				<small><span class="small">질문 제목 : </span>[[${question.subject}]]</small>
			</div>
		</div>

		<div class="card bg-warning">
			<div class="card-body ">
				<h5 class="card-title text-white">
					<span class="small">질문 내용 : </span>[[${question.content}]] <span
						class="badge badge-pill badge-secondary float-right"
						th:text="${#temporals.format(question.createDate,'yyyy-MM-dd HH-mm')}"></span>
				</h5>
			</div>
		</div>


		<h4 class="my-5 border-bottom py-2"
			th:text="|${#lists.size(question.answerList)}개의 답변이 있습니다.|"></h4>
		<!--${#Lists.size()} : 타임리프에서 제공하는 문법으로 해당 매개변수로 객체를 넣으면 해당 객체의 갯수를 리턴한다.-->

		<div>
			<ul class="list-unstyled">
				<div class="card bg-light my-3"
					th:each="answer : ${question.answerList}">
					<div class="card-body">
						<li>[[${answer.content}]]</li>
						<!--날짜를 출력하는 배찌  -->
						<div class="d-flex justify-content-end">
							<span class="badge badge-pill badge-secondary"
								th:text="${#temporals.format(question.createDate,'yyyy-MM-dd HH-mm')}"></span>
						</div>
					</div>
				</div>
			</ul>
		</div>
		
		<!-- 답변 작성 -->
		<form th:action="@{|/answer/create/${question.id}|}" method="post" th:object="${answerForm}">
		<!-- 유효성검증 error시 출력되는 구문 -->
		<div th:replace="~{form_errors :: formErrorsFragment}"></div>
	
			<div class="form-group">
			<!-- 답변 기능의 content 항목도 th:field 속성을 사용하겠다는 의미로 th:field*{content}를 넣는다. -->
		
				<textarea th:field="*{content}" class="form-control" name="content" id="content" cols="30"
					rows="10"></textarea>
			</div>
			<input class="btn btn-warning p-2" type="submit" value="답변 등록하기" />
		</form>
	</div>
</div>
</html>